# OraDBA Data Safe Extension v0.12.2

**Release Date:** 2026-02-17

## Overview

Version 0.12.2 fixes connector bundle retrieval in
`bin/ds_connector_update.sh` for OCI CLI environments where
`on-prem-connector download` is not available.

## Highlights

- Removed use of unsupported `oci data-safe on-prem-connector download`.
- Switched to the supported command:
  `generate-on-prem-connector-configuration --file <bundle.zip>`.
- Simplified bundle stage to a single generate/write step.
- Removed interactive `setup.py update` prompt handling by running update in
  non-interactive mode with injected bundle key.

## Details

### Fixed

- OCI bundle command compatibility
  - `ds_connector_update.sh` no longer attempts `on-prem-connector download`.
  - Bundle output is now written directly by
    `generate-on-prem-connector-configuration` to the target zip file.
- Download flow simplification
  - Removed redundant post-generation download step.
  - Removed unnecessary work-request polling in the bundle stage.
- Non-interactive update execution
  - `ds_connector_update.sh` now runs `setup.py update` via a Python shim that
    patches `getpass.getpass` to return the generated bundle key.
  - Prevents blocking on manual input at `Enter install bundle password:`.

## Testing

```bash
# Targeted regression tests
bats tests/script_ds_connector_update.bats

# Script lint check
shellcheck bin/ds_connector_update.sh
```

## Breaking Changes

None.

## See Also

- [Changelog](../../CHANGELOG.md)
- [Release note v0.12.1](v0.12.1.md)
