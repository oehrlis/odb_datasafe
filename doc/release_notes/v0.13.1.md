# OraDBA Data Safe Extension v0.13.1

Release date: 2026-02-18

## Highlights

- Added safer `--force` user handling for connected database users.
- Refreshed embedded SQL payload in `ds_database_prereqs.sh` with the latest SQL script updates.

## What Changed

### FORCE Drop Fallback for Connected Users

Updated `sql/create_ds_admin_user.sql` to handle ORA-01940 when a user is currently connected.

When `FORCE=TRUE` and `DROP USER ... CASCADE` fails with ORA-01940, the script now falls back to:

- `ALTER USER ... IDENTIFIED BY ... PROFILE ...`

This prevents hard failure during prerequisite runs while still applying secret/profile updates.

### Embedded SQL Payload Refresh

Regenerated the embedded SQL payload in `bin/ds_database_prereqs.sh` to include current versions of:

- `sql/create_ds_admin_prerequisites.sql`
- `sql/create_ds_admin_user.sql`
- `sql/datasafe_privileges.sql`

This keeps `--embedded` execution aligned with the latest SQL logic.
