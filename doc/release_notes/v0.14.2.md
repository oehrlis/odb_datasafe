# OraDBA Data Safe Extension v0.14.2

Release date: 2026-02-19

## Highlights

- Extended shared target selection/filter flow to `activate` and `update_service` scripts.
- Added consistent `-r/--filter` regex target-name filtering for both scripts.
- Added explicit `-A/--all` selection to scope operations to all targets from `DS_ROOT_COMP`.

## What Changed

### Added

- Added `-r/--filter <regex>` support to:
  - `bin/ds_target_activate.sh`
  - `bin/ds_target_update_service.sh`

- Added `-A/--all` support to:
  - `bin/ds_target_list.sh`
  - `bin/ds_target_refresh.sh`
  - `bin/ds_target_activate.sh`
  - `bin/ds_target_update_credentials.sh`
  - `bin/ds_target_update_connector.sh`
  - `bin/ds_target_update_service.sh`
  - `bin/ds_target_update_tags.sh`

- Added shared helper in `lib/oci_helpers.sh`:
  - `ds_resolve_all_targets_scope`

### Changed

- `bin/ds_target_activate.sh` now uses `ds_collect_targets` for unified target selection:
  - explicit targets (`-T/--targets`),
  - compartment scanning (`-c/--compartment` + lifecycle),
  - regex display-name filtering (`-r/--filter`).

- `bin/ds_target_update_service.sh` now uses the same shared selection flow via
  `ds_collect_targets`, replacing script-local target discovery and resolution logic.

- No-match behavior is aligned with other mutating scripts:
  - when `-r/--filter` is provided and no targets match, the script exits with code `1`.

- `--all` behavior is standardized across supported scripts:
  - requires `DS_ROOT_COMP` to be configured,
  - cannot be combined with `-c/--compartment`,
  - cannot be combined with `-T/--targets`.

### Documentation

- Updated help text examples in:
  - `bin/ds_target_activate.sh`
  - `bin/ds_target_update_service.sh`

- Updated docs to include the new filter support and examples:
  - `doc/index.md`
  - `doc/quickref.md`

- Updated docs to include `-A/--all` usage, behavior notes, and examples:
  - `doc/index.md`
  - `doc/quickref.md`

## Affected Files

- `bin/ds_target_activate.sh`
- `bin/ds_target_update_service.sh`
- `bin/ds_target_list.sh`
- `bin/ds_target_refresh.sh`
- `bin/ds_target_update_credentials.sh`
- `bin/ds_target_update_connector.sh`
- `bin/ds_target_update_tags.sh`
- `lib/oci_helpers.sh`
- `doc/index.md`
- `doc/quickref.md`
- `CHANGELOG.md`
