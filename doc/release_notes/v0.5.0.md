# Release 0.5.0 - Project Structure Alignment

**Release Date:** 2026-01-12  
**Version:** 0.5.0  
**Status:** âœ… Released

## ğŸ¯ Overview

This release aligns the `odb_datasafe` project with the standardized
`oradba_extension` template, bringing enhanced development workflows, improved
CI/CD processes, and better tooling integration while maintaining all existing
functionality.

## ğŸš€ Major Changes

### Project Structure Alignment

The project now fully adopts the oradba_extension template standards for consistent
development experience across all OraDBA projects.

#### Enhanced Makefile

**New Development Targets:**

- `make help` - Categorized help with color-coded output
- `make format` - Format shell scripts with shfmt
- `make check` - Quick validation (lint + basic tests)
- `make ci` - Full CI validation suite
- `make pre-commit` - Pre-commit hook checks
- `make tools` - Show development tools status
- `make info` - Display project information

**Version Management:**

- `make version-bump-patch` - Bump patch version (0.5.0 â†’ 0.5.1)
- `make version-bump-minor` - Bump minor version (0.5.0 â†’ 0.6.0)
- `make version-bump-major` - Bump major version (0.5.0 â†’ 1.0.0)

**Quick Shortcuts:**

- `make t` - Run tests (alias for `make test`)
- `make l` - Lint code (alias for `make lint`)
- `make f` - Format code (alias for `make format`)
- `make b` - Build/install (alias for `make build`)
- `make c` - Clean workspace (alias for `make clean`)

**Testing Improvements:**

- `make test` - Fast unit tests (60s timeout, excludes integration)
- `make test-all` - Full test suite with integration tests
- Better separation for CI/CD efficiency

#### CI/CD Workflows

**Enhanced CI Workflow:**

- Proper job dependencies
- Workflow dispatch for manual triggering
- Improved release notes generation
- Version validation

**Improved Release Workflow:**

- Automated version bumping
- Better artifact handling
- Enhanced release notes

### Documentation Updates

**Template Alignment:**

- Follows oradba_extension documentation conventions
- Maintains datasafe-specific guides in `doc/`
- Development workflow standardized
- Contributing guidelines updated

### Metadata Updates

**Version Files:**

- VERSION: 0.4.0 â†’ 0.5.0
- .extension: Updated with version 0.5.0 and `doc: true` flag

## ğŸ“‹ Technical Details

### Makefile Enhancements

**Organization:**

```makefile
# Categorized targets:
# - Development (test, lint, format, check)
# - Build (build, install, clean)
# - Version (bump commands)
# - CI/CD (ci, pre-commit, release)
# - Tools (tools, info, help)
```

**Features:**

- âœ… Color-coded output for better readability
- âœ… Better error handling and tool detection
- âœ… Consistent messaging across all targets
- âœ… Comprehensive help system
- âœ… Tool availability checking

### Testing Strategy

**Unit Tests (Fast):**

```bash
make test
# Runs in ~60 seconds
# Excludes integration tests
# Suitable for development workflow
```

**Full Test Suite:**

```bash
make test-all
# Includes integration tests
# Comprehensive validation
# Used in CI/CD
```

### Quality Assurance

**Code Quality:**

- âœ… Shellcheck: 100% pass rate maintained
- âœ… Markdown lint: Configured for CHANGELOG format
- âœ… Template standards: Fully adopted

**CI/CD:**

- âœ… Automated testing on push/PR
- âœ… Version validation
- âœ… Release automation

## ğŸ”„ Migration Notes

### For Developers

**Old Workflow:**

```bash
make test        # Ran all tests (slow)
make lint        # Basic linting
```

**New Workflow:**

```bash
make test        # Fast unit tests only
make test-all    # Full test suite
make check       # Quick validation (lint + tests)
make ci          # Full CI validation
make pre-commit  # Before committing
```

**Quick Shortcuts:**

```bash
make t           # Test
make l           # Lint
make f           # Format
make b           # Build
make c           # Clean
```

### For CI/CD

No changes required - existing workflows continue to work. New features available:

```yaml
# GitHub Actions
- name: Run checks
  run: make ci

- name: Bump version
  run: make version-bump-patch
```

## ğŸ“¦ Installation

### Upgrade from 0.4.0

No breaking changes. Simply update to the latest version:

```bash
cd odb_datasafe
git pull
make install
```

### Fresh Installation

```bash
git clone https://github.com/oehrlis/odb_datasafe.git
cd odb_datasafe
make install
```

## ğŸ§ª Testing

All existing tests continue to pass:

```bash
# Quick validation
make check

# Full test suite
make test-all

# Specific test
bats tests/test_ds_lib.bats
```

## ğŸ“š Documentation

- **Makefile Help:** Run `make help` for all targets
- **Development Guide:** See [doc/development.md](../development.md)
- **Template Standards:** Aligned with oradba_extension v2.0.0

## ğŸ› Known Issues

None. This is a structural/tooling update with no functional changes.

## ğŸ”® What's Next

### Version 0.5.1 (Planned)

- Documentation enhancements
- Additional policy documentation

### Future Releases

- Enhanced automation features
- Additional OCI integration improvements
- Performance optimizations

## ğŸ‘¥ Contributors

- Stefan Oehrli (@oehrlis) - Project maintainer

## ğŸ“ Full Changelog

See [CHANGELOG.md](../../CHANGELOG.md#050---2026-01-12) for complete details.

## ğŸ”— Resources

- **Repository:** <https://github.com/oehrlis/odb_datasafe>
- **Documentation:** <https://github.com/oehrlis/odb_datasafe/tree/main/doc>
- **Issues:** <https://github.com/oehrlis/odb_datasafe/issues>
- **Template:** <https://github.com/oehrlis/oradba_extension>

---

**Previous Release:** [v0.4.0](v0.4.0.md)  
**Next Release:** [v0.5.1](v0.5.1.md)
