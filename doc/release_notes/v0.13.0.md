# OraDBA Data Safe Extension v0.13.0

Release date: 2026-02-17

## Highlights

- Consolidated target credential scripts to a shared secret model:
  - `--ds-user`
  - `--ds-secret`
  - `--secret-file`
- Removed legacy option-alias compatibility from the target credential scripts.
- Removed deprecated CDB-specific credential flags from `ds_target_activate.sh`.
- Added shared secret helpers in `lib/common.sh` for extension scripts.

## What Changed

### Target Script Consolidation

Refactored these scripts to align with the `ds_database_prereqs.sh` secret model:

- `bin/ds_target_activate.sh`
- `bin/ds_target_register.sh`
- `bin/ds_target_update_credentials.sh`

All now support plain/base64 inline secret input and secret-file lookup behavior consistently.

### Shared Secret Helper Functions

Added reusable helper functions to `lib/common.sh`:

- `decode_base64_string`
- `is_base64_string`
- `trim_trailing_crlf`
- `normalize_secret_value`

This removes duplicated helper logic from target scripts and centralizes behavior.

### Newline Robustness Fix

Fixed an issue where secrets could include an accidental trailing newline (for example from `echo "secret" | base64 > file`).

Extension scripts now trim trailing `CR/LF` from decoded secret values, while preserving other internal characters.

### Deprecation Cleanup

Removed deprecated script:

- `bin/ds_target_prereqs.sh`

Use `bin/ds_database_prereqs.sh` for prerequisite/user/grant operations.

## Documentation Updates

- Updated top-level and index pointers to `v0.13.0`
- Updated quick reference target registration examples to `--ds-secret`
- Added secret-file usage example in quick reference
