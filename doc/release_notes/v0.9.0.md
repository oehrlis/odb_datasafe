# OraDBA Data Safe Extension v0.9.0

**Release Date:** 2026-02-12

## Overview

Version 0.9.0 focuses on local prereq execution with an embedded SQL payload,
connector update improvements, and clearer documentation. It also includes
several fixes around SQL handling and OCI connector updates.

## Highlights

- **Embedded SQL payload** for `ds_database_prereqs.sh` with a new `--embedded`
  option to run prereqs without external SQL files.
- **Connector update filtering** in `ds_target_update_connector.sh` with
  multi-state lifecycle support and a `--include-needs-attention` shortcut.
- **Deprecated remote prereqs** in favor of local execution via
  `ds_database_prereqs.sh`.

## Details

### Local Prereq Execution

`ds_database_prereqs.sh` can now use an embedded SQL zip payload. The script
also logs which SQL source is used (embedded vs external) to make execution
sources explicit.

### Connector Updates

Connector updates now accept multiple lifecycle states (for example,
`ACTIVE,NEEDS_ATTENTION`) and include a shortcut flag to include targets in
`NEEDS_ATTENTION`.

### SQL and Error Handling Fixes

- `create_ds_admin_prerequisites.sql` accepts the profile name as parameter 1.
- `create_ds_admin_user.sql` avoids ORA-28007 by skipping password reset when
  `FORCE` is FALSE.
- Embedded payload extraction now streams base64 decode to avoid null byte loss.
- Exporting `AUTO_ERROR_HANDLING` resolves a shellcheck warning in
  `ds_target_prereqs.sh`.

## Testing

```bash
# Run local prereqs using the embedded payload
bin/ds_database_prereqs.sh --embedded --root
```

## Breaking Changes

None. All changes are backward compatible.

## See Also

- [Changelog](../../CHANGELOG.md)
- [Quick Reference](../quickref.md)
