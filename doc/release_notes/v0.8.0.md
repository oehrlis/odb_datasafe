# OraDBA Data Safe Extension v0.8.0

**Release Date:** 2026-02-11

## Overview

Version 0.8.0 adds a new prereq workflow for creating the Data Safe user and
profile on database hosts, plus a shared SSH helper library. It also improves
cluster node visibility and makes the prereq profile align with CIS settings
while keeping the password lifetime unlimited.

## Highlights

- **New prereq workflow** via `ds_target_prereqs.sh` for remote SQL copy and
  execution in a single scope (PDB or CDB$ROOT).
- **CIS-aligned profile setup** in `create_ds_admin_prerequisites.sql` with
  `DS_USER_PROFILE` and `ORA12C_VERIFY_FUNCTION` while keeping password lifetime
  unlimited.
- **Improved node visibility** in `ds_target_connect_details.sh`, showing VM
  cluster node names with required compartment scoping.

## Details

### Data Safe Prerequisites

`ds_target_prereqs.sh` now handles:

- Copying prerequisite, user creation, and grant SQL files to the target host
- Running SQL*Plus in the correct PDB or CDB$ROOT scope
- Optional `--force` mode for user recreation
- Check-only mode for validation without changes

### Profile Alignment

The new prereq SQL creates or updates `DS_USER_PROFILE` to match CIS limits and
uses `ORA12C_VERIFY_FUNCTION`. Password lifetime remains unlimited to avoid
forced rotation for the Data Safe service account.

### Cluster Node Lookup

VM cluster node lookup now includes the required compartment scope and outputs
only node names for easier reading.

## Testing

```bash
# Run the prereq script in dry-run mode
bin/ds_target_prereqs.sh -H db01 --sid cdb01 --pdb APP1PDB -n
```

## Breaking Changes

None. All changes are backward compatible.

## See Also

- [Changelog](../../CHANGELOG.md)
- [Quick Reference](../quickref.md)
