# OraDBA Data Safe Extension v0.6.1

**Release Date:** 2026-01-23

## Overview

Version 0.6.1 focuses on operational visibility and reliability. The new
`ds_target_connector_summary.sh` script delivers connector-centric reporting,
while OCI CLI authentication checks now verify credentials up front to prevent
mid-run failures.

## Highlights

- **Target-Connector Summary script** groups targets by on-premises connector,
  with lifecycle breakdowns, subtotals, and grand totals. Supports table (default),
  JSON, and CSV output plus detailed mode and custom field selection.
- **OCI CLI authentication guardrails** via `check_oci_cli_auth()` and
  `require_oci_cli()` ensure both CLI availability and valid credentials, with
  cached results for speed and clear guidance for common auth issues.
- **Template refresh** keeps the script scaffold aligned with the latest
  bootstrap pattern and version metadata.

## Details

### Target-Connector Summary

```bash
# Default summary per connector with lifecycle counts
bin/ds_target_connector_summary.sh

# Detailed targets per connector
bin/ds_target_connector_summary.sh -D

# Filter across all connectors
bin/ds_target_connector_summary.sh -L ACTIVE

# Machine-readable output
bin/ds_target_connector_summary.sh -f json
bin/ds_target_connector_summary.sh -f csv
```

Key capabilities:

- Groups on-premises connectors with lifecycle state breakdown
- Includes "No Connector (Cloud)" bucket for cloud targets
- Provides connector subtotals and overall grand total
- Supports custom field selection in detailed mode

### OCI CLI Authentication Checks

- New `check_oci_cli_auth()` probes OCI CLI authentication via a lightweight
  `oci os ns get` call.
- `require_oci_cli()` now combines tool presence and authentication checks,
  caching results to avoid repeated auth calls.
- Scripts provide actionable error messages for missing config, profile errors,
  or invalid credentials.

## Testing

- `make lint`
- `make test`

## Upgrade

```bash
# From your OraDBA local base
cd ${ORADBA_LOCAL_BASE}
tar -xzf odb_datasafe-0.6.1.tar.gz
```

Reload the OraDBA environment if needed and rerun your Data Safe commands.

## See Also

- [Changelog](../../CHANGELOG.md)
- [Quick Reference](../quickref.md)
- [Installation Guide](../install_datasafe_service.md)
