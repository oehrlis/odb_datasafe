# OraDBA Data Safe Extension v0.15.1

Release date: 2026-02-19

## Highlights

- Improved shell compatibility for version/integrity tooling.
- Added targeted regression tests for bash 4.2 compatibility and strict-mode array safety.

## What Changed

### Fixed

- `bin/ds_version.sh`
  - Replaced nameref-dependent `dedupe_array` implementation with a bash 4.2-compatible approach.
  - Eliminates `local: -n: invalid option` failures seen in mixed shell environments.

- `lib/oci_helpers.sh`
  - Hardened array existence checks and expansions for safe operation with `set -u`.

- Shellcheck cleanup
  - Updated compatibility-related patterns and adjusted `SC2154` suppression placement in `bin/ds_version.sh`.

### Added

- New compatibility regression suite: `tests/bash42_compatibility.bats`
  - Verifies no `local -n` usage remains,
  - Validates `dedupe_array` deduplication behavior/order,
  - Confirms strict-mode-safe array handling paths.

## Affected Files

- `bin/ds_version.sh`
- `lib/oci_helpers.sh`
- `tests/bash42_compatibility.bats`
- `CHANGELOG.md`
